{
  "name": "military_service",
  "remarks": [
    "A blank module"
  ],
  "states": {
    "Initial": {
      "type": "Initial",
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Gender",
            "gender": "M"
          },
          "distributions": [
            {
              "transition": "Military_Service",
              "distribution": 0.1
            },
            {
              "transition": "No_Military_Service",
              "distribution": 0.9
            }
          ]
        },
        {
          "distributions": [
            {
              "transition": "Military_Service",
              "distribution": 0.025
            },
            {
              "transition": "No_Military_Service",
              "distribution": 0.975
            }
          ]
        }
      ]
    },
    "Terminal": {
      "type": "Terminal"
    },
    "No_Military_Service": {
      "type": "Simple",
      "direct_transition": "Terminal"
    },
    "Age_Guard_Enlisted": {
      "type": "Guard",
      "allow": {
        "condition_type": "Age",
        "operator": ">=",
        "quantity": 18,
        "unit": "years",
        "value": 0
      },
      "direct_transition": "Delay_Entry_Enlisted"
    },
    "Age_Guard_Officer": {
      "type": "Guard",
      "allow": {
        "condition_type": "Age",
        "operator": ">=",
        "quantity": 22,
        "unit": "years",
        "value": 0
      },
      "direct_transition": "Delay_Entry_Officer"
    },
    "Delay_Entry_Enlisted": {
      "type": "Delay",
      "range": {
        "low": 0,
        "high": 21,
        "unit": "years"
      },
      "direct_transition": "Military_Trainee_Enlisted"
    },
    "Delay_Entry_Officer": {
      "type": "Delay",
      "direct_transition": "Military_Trainee_Officer",
      "range": {
        "low": 0,
        "high": 17,
        "unit": "years"
      }
    },
    "Delay_Officer_Training": {
      "type": "Delay",
      "exact": {
        "quantity": 6,
        "unit": "weeks"
      },
      "direct_transition": "Start_Military_Officer"
    },
    "Delay_UPT": {
      "type": "Delay",
      "range": {
        "low": 12,
        "high": 14,
        "unit": "months"
      },
      "direct_transition": "Military_Job_Class_Flying_Class_II"
    },
    "Delay_UPT_RPA": {
      "type": "Delay",
      "range": {
        "low": 12,
        "high": 14,
        "unit": "months"
      },
      "direct_transition": "Military_Job_Class_RPA_Pilot"
    },
    "Delay_Enlisted_Training": {
      "type": "Delay",
      "exact": {
        "quantity": 8,
        "unit": "weeks"
      },
      "direct_transition": "Start_Military_Enlisted"
    },
    "Military_Flight_Physical": {
      "type": "Encounter",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 200619008,
          "display": "Comprehensive interview and evaluation (procedure)"
        }
      ],
      "encounter_class": "ambulatory",
      "conditional_transition": [
        {
          "transition": "Special_Duty_Officer",
          "condition": {
            "condition_type": "Active Condition",
            "codes": [
              {
                "system": "SNOMED-CT",
                "code": 455621000124101,
                "display": "United States Military Commissioned Officer pay grade (qualifier value)"
              }
            ]
          }
        },
        {
          "transition": "Special_Duty_Enlisted",
          "condition": {
            "condition_type": "Active Condition",
            "codes": [
              {
                "system": "SNOMED-CT",
                "code": 455631000124103,
                "display": "United States Military enlisted pay grade (qualifier value)"
              }
            ]
          }
        }
      ]
    },
    "Military_Job_Class_Regular": {
      "type": "SetAttribute",
      "attribute": "Air_Force_Job_Class",
      "value": "regular",
      "direct_transition": "Active_Military_Service"
    },
    "Military_Job_Class_RPA_Pilot": {
      "type": "SetAttribute",
      "attribute": "Air_Force_Job_Class",
      "value": "rpa",
      "direct_transition": "Active_Military_Service"
    },
    "Military_Job_Class_Flying_Class_I/IA": {
      "type": "SetAttribute",
      "attribute": "Air_Force_Job_Class",
      "value": "fc_1",
      "direct_transition": "End_Flight_Physical_FC_I/IA"
    },
    "Military_Job_Class_Flying_Class_III": {
      "type": "SetAttribute",
      "attribute": "Air_Force_Job_Class",
      "direct_transition": "End_Flight_Physical_FC_III",
      "value": "fc_3"
    },
    "Military_Job_Class_Ground_Based_Controller": {
      "type": "SetAttribute",
      "attribute": "Air_Force_Job_Class",
      "value": "gbc",
      "direct_transition": "End_Flight_Physical_GBC"
    },
    "Military_Job_Class_MOD": {
      "type": "SetAttribute",
      "attribute": "Air_Force_Job_Class",
      "value": "mod",
      "direct_transition": "End_Flight_Physical_MOD"
    },
    "Military_Service": {
      "type": "Simple",
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Gender",
            "gender": "F"
          },
          "distributions": [
            {
              "transition": "Age_Guard_Officer",
              "distribution": 0.1966
            },
            {
              "transition": "Age_Guard_Enlisted",
              "distribution": 0.8034
            }
          ]
        },
        {
          "distributions": [
            {
              "transition": "Age_Guard_Officer",
              "distribution": 0.1841
            },
            {
              "transition": "Age_Guard_Enlisted",
              "distribution": 0.8159
            }
          ],
          "condition": {
            "condition_type": "Gender",
            "gender": "M"
          }
        }
      ]
    },
    "End_Flight_Physical_FC_I/IA": {
      "type": "EncounterEnd",
      "direct_transition": "Assign_Air_Force_Job_Class_FC_I/IA"
    },
    "Military_Job_Class_Flying_Class_II": {
      "type": "SetAttribute",
      "attribute": "Air_Force_Job_Class",
      "value": "fc_2",
      "direct_transition": "End_Flight_Physical_Flying_Class_II"
    },
    "End_Flight_Physical_FC_III": {
      "type": "EncounterEnd",
      "direct_transition": "Active_Military_Service"
    },
    "End_Flight_Physical_MOD": {
      "type": "EncounterEnd",
      "direct_transition": "Active_Military_Service"
    },
    "End_Flight_Physical_GBC": {
      "type": "EncounterEnd",
      "direct_transition": "Active_Military_Service"
    },
    "Active_Military_Service": {
      "type": "Simple",
      "direct_transition": "Assign_Air_Force_Job_Class"
    },
    "Annual_Attrition_Rate": {
      "type": "Delay",
      "exact": {
        "quantity": 12,
        "unit": "months"
      },
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Age",
            "operator": ">=",
            "quantity": 65,
            "unit": "years",
            "value": 0
          },
          "distributions": [
            {
              "transition": "End_Military_Service",
              "distribution": 1
            }
          ]
        },
        {
          "distributions": [
            {
              "transition": "Annual_Attrition_Rate",
              "distribution": 0.9
            },
            {
              "transition": "End_Military_Service",
              "distribution": 0.1
            }
          ]
        }
      ]
    },
    "End_Military_Service": {
      "type": "ConditionEnd",
      "condition_onset": "Start_Military_Service",
      "direct_transition": "End_Medical_Readiness",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 266964007,
          "display": "Left military service (finding)"
        }
      ]
    },
    "Military_Trainee_Enlisted": {
      "type": "SetAttribute",
      "attribute": "military_trainee",
      "direct_transition": "Start_Military_Service",
      "value": "enlisted"
    },
    "Military_Trainee_Officer": {
      "type": "SetAttribute",
      "attribute": "military_trainee",
      "direct_transition": "Start_Military_Service",
      "value": "officer"
    },
    "Start_Military_Service": {
      "type": "ConditionOnset",
      "assign_to_attribute": "Military_Service",
      "target_encounter": "",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 450031000124104,
          "display": "Military service member of air force (occupation)"
        }
      ],
      "direct_transition": "Start_Medical_Readiness"
    },
    "Start_Medical_Readiness": {
      "type": "ConditionOnset",
      "assign_to_attribute": "Medical_Readiness",
      "target_encounter": "",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 429011000124100,
          "display": "Physically able to work (finding)"
        }
      ],
      "conditional_transition": [
        {
          "transition": "Delay_Officer_Training",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "military_trainee",
            "operator": "==",
            "value": "officer"
          }
        },
        {
          "transition": "Delay_Enlisted_Training",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "military_trainee",
            "operator": "==",
            "value": "enlisted"
          }
        }
      ]
    },
    "End_Medical_Readiness": {
      "type": "ConditionEnd",
      "conditional_transition": [
        {
          "transition": "End_Military_Officer",
          "condition": {
            "condition_type": "Active Condition",
            "codes": [
              {
                "system": "SNOMED-CT",
                "code": 455621000124101,
                "display": "United States Military Commissioned Officer pay grade (qualifier value)"
              }
            ]
          }
        },
        {
          "transition": "End_Military_Enlisted",
          "condition": {
            "condition_type": "Active Condition",
            "codes": [
              {
                "system": "SNOMED-CT",
                "code": 455631000124103,
                "display": "United States Military enlisted pay grade (qualifier value)"
              }
            ]
          }
        }
      ],
      "condition_onset": "Start_Medical_Readiness"
    },
    "Start_Military_Officer": {
      "type": "ConditionOnset",
      "assign_to_attribute": "Military_Pay_Grade",
      "target_encounter": "",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 455621000124101,
          "display": "United States Military Commissioned Officer pay grade (qualifier value)"
        }
      ],
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Gender",
            "gender": "M"
          },
          "distributions": [
            {
              "transition": "Military_Flight_Physical",
              "distribution": 0.413
            },
            {
              "transition": "Military_Job_Class_Regular",
              "distribution": 0.587
            }
          ]
        },
        {
          "distributions": [
            {
              "transition": "Military_Flight_Physical",
              "distribution": 0.1687
            },
            {
              "transition": "Military_Job_Class_Regular",
              "distribution": 0.8313
            }
          ],
          "condition": {
            "condition_type": "Gender",
            "gender": "F"
          }
        }
      ]
    },
    "Start_Military_Enlisted": {
      "type": "ConditionOnset",
      "assign_to_attribute": "Military_Pay_Grade",
      "target_encounter": "",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 455631000124103,
          "display": "United States Military enlisted pay grade (qualifier value)"
        }
      ],
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Gender",
            "gender": "M"
          },
          "distributions": [
            {
              "transition": "Military_Flight_Physical",
              "distribution": 0.0884
            },
            {
              "transition": "Military_Job_Class_Regular",
              "distribution": 0.9116
            }
          ]
        },
        {
          "distributions": [
            {
              "transition": "Military_Flight_Physical",
              "distribution": 0.1084
            },
            {
              "transition": "Military_Job_Class_Regular",
              "distribution": 0.8916
            }
          ],
          "condition": {
            "condition_type": "Gender",
            "gender": "F"
          }
        }
      ]
    },
    "End_Military_Enlisted": {
      "type": "ConditionEnd",
      "codes": [],
      "direct_transition": "Set_Veteran",
      "condition_onset": "Start_Military_Enlisted"
    },
    "End_Military_Officer": {
      "type": "ConditionEnd",
      "codes": [],
      "condition_onset": "Start_Military_Officer",
      "direct_transition": "Set_Veteran"
    },
    "Assign_Air_Force_Job_Class": {
      "type": "Observation",
      "category": "social-history",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "85658-3",
          "display": "Occupation [Type]"
        }
      ],
      "direct_transition": "Annual_Attrition_Rate",
      "attribute": "Air_Force_Job_Class"
    },
    "Special_Duty_Officer": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Special_Duty_Officer_Female",
          "condition": {
            "condition_type": "Gender",
            "gender": "F"
          }
        },
        {
          "transition": "Special_Duty_Officer_Male",
          "condition": {
            "condition_type": "Gender",
            "gender": "M"
          }
        }
      ]
    },
    "Special_Duty_Enlisted": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Special_Duty_Enlisted_Female",
          "condition": {
            "condition_type": "Gender",
            "gender": "F"
          }
        },
        {
          "transition": "Special_Duty_Enlisted_Male",
          "condition": {
            "condition_type": "Gender",
            "gender": "M"
          }
        }
      ]
    },
    "Special_Duty_Officer_Male": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Military_Job_Class_Flying_Class_I/IA",
          "distribution": 0.0873
        },
        {
          "transition": "Military_Job_Class_Flying_Class_II",
          "distribution": 0.6785
        },
        {
          "transition": "Military_Job_Class_Flying_Class_III",
          "distribution": 0.0248
        },
        {
          "transition": "Military_Job_Class_Flying_Class_III_SWA",
          "distribution": 0.0062
        },
        {
          "transition": "Military_Job_Class_Flying_Class_III_GBC",
          "distribution": 0.057
        },
        {
          "transition": "Military_Job_Class_Flying_Class_III_GBC_SWA",
          "distribution": 0.014
        },
        {
          "transition": "Military_Job_Class_Ground_Based_Controller",
          "distribution": 0.011
        },
        {
          "transition": "Military_Job_Class_MOD",
          "distribution": 0.04269999999999985
        },
        {
          "transition": "Military_Job_Class_Flying_Class_II_RPA",
          "distribution": 0.0785
        }
      ]
    },
    "Special_Duty_Officer_Female": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Military_Job_Class_Flying_Class_I/IA",
          "distribution": 0.08640000000000003
        },
        {
          "transition": "Military_Job_Class_Flying_Class_II",
          "distribution": 0.4951
        },
        {
          "transition": "Military_Job_Class_Flying_Class_III",
          "distribution": 0.1208
        },
        {
          "transition": "Military_Job_Class_Flying_Class_III_GBC",
          "distribution": 0.1006
        },
        {
          "transition": "Military_Job_Class_Flying_Class_III_SWA",
          "distribution": 0.0004
        },
        {
          "transition": "Military_Job_Class_Flying_Class_III_GBC_SWA",
          "distribution": 0.0013
        },
        {
          "transition": "Military_Job_Class_Ground_Based_Controller",
          "distribution": 0.0283
        },
        {
          "transition": "Military_Job_Class_MOD",
          "distribution": 0.115
        },
        {
          "transition": "Military_Job_Class_Flying_Class_II_RPA",
          "distribution": 0.0521
        }
      ]
    },
    "Special_Duty_Enlisted_Male": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Military_Job_Class_Flying_Class_II_RPA",
          "distribution": 0.003
        },
        {
          "transition": "Military_Job_Class_Flying_Class_III",
          "distribution": 0.6246
        },
        {
          "transition": "Military_Job_Class_Flying_Class_III_SWA",
          "distribution": 0.0342
        },
        {
          "transition": "Military_Job_Class_Ground_Based_Controller",
          "distribution": 0.2275
        },
        {
          "transition": "Military_Job_Class_Flying_Class_III_GBC_SWA",
          "distribution": 0.11070000000000002
        }
      ]
    },
    "Special_Duty_Enlisted_Female": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Military_Job_Class_Flying_Class_II_RPA",
          "distribution": 0.0003
        },
        {
          "transition": "End_Flight_Physical_FC_III",
          "distribution": 0.8229
        },
        {
          "transition": "Military_Job_Class_Ground_Based_Controller",
          "distribution": 0.1766
        },
        {
          "transition": "Military_Job_Class_Flying_Class_III_GBC_SWA",
          "distribution": 0.000200000000000089
        }
      ]
    },
    "Military_Job_Class_Flying_Class_III_SWA": {
      "type": "SetAttribute",
      "attribute": "Air_Force_Job_Class",
      "value": "fc_3_swa",
      "direct_transition": "Military_Job_Class_Flying_Class_III_GBC_SWA"
    },
    "Military_Job_Class_Flying_Class_III_GBC_SWA": {
      "type": "SetAttribute",
      "attribute": "Air_Force_Job_Class",
      "value": "fc_3_gbc_swa",
      "direct_transition": "End_Flight_Physical_FC_III_GBC_SWA"
    },
    "Military_Job_Class_Flying_Class_III_GBC": {
      "type": "SetAttribute",
      "attribute": "Air_Force_Job_Class",
      "value": "fc_3_gbc",
      "direct_transition": "End_Flight_Physical_FC_III_GBC"
    },
    "End_Flight_Physical_FC_III_GBC": {
      "type": "EncounterEnd",
      "direct_transition": "Active_Military_Service"
    },
    "End_Flight_Physical_FC_III_GBC_SWA": {
      "type": "EncounterEnd",
      "direct_transition": "Active_Military_Service"
    },
    "Assign_Air_Force_Job_Class_FC_I/IA": {
      "type": "Observation",
      "category": "social-history",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "85658-3",
          "display": "Occupation [Type]"
        }
      ],
      "direct_transition": "Delay_UPT",
      "attribute": "Air_Force_Job_Class"
    },
    "Military_Job_Class_Flying_Class_II_RPA": {
      "type": "SetAttribute",
      "attribute": "Air_Force_Job_Class",
      "direct_transition": "End_Flight_Physical_FC_II_RPA",
      "value": "fc_2"
    },
    "End_Flight_Physical_Flying_Class_II": {
      "type": "EncounterEnd",
      "direct_transition": "Active_Military_Service"
    },
    "End_Flight_Physical_FC_II_RPA": {
      "type": "EncounterEnd",
      "direct_transition": "Assign_Air_Force_Job_Class_FC_II_RPA"
    },
    "Assign_Air_Force_Job_Class_FC_II_RPA": {
      "type": "Observation",
      "category": "social-history",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "85658-3",
          "display": "Occupation [Type]"
        }
      ],
      "direct_transition": "Delay_UPT_RPA",
      "attribute": "Air_Force_Job_Class"
    },
    "Set_Veteran": {
      "type": "SetAttribute",
      "attribute": "veteran",
      "direct_transition": "Terminal",
      "value": true
    }
  }
}